<html>

	<head>

		<title>Paranomásia</title>
		<meta charset="UTF-8"/>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css2?family=Handlee&display=swap" rel="stylesheet">
		
		
	</head>

	<body style="background-color:#219ebc;">
	
		<div style="background-color:#023047;" class="jumbotron jumbotron-fluid text-white mb-0 p-3">
			<div class="container">
				<p align="center" class="fs-1">Paranomásia</p>
				<p align="center" class="lead fs-5">O lar das piadas de trocadilho!</p>
				<nav class="navbar m-3">
				<p class="lead fs-2">Bem-Vindo, <span th:text="${usuarioLogado.nome}">Usuário</span>!</p>

				<form align="right" class="m-3" th:action="@{/logout}" method="POST">
					<a href="/logout"><button class="btn btn-outline-light" type="submit">Logout</button></a>
				</form>
				</nav>
				
		</div>
		</div>

	<div align="right" class="m-5">
	
		<div class="nav m-3">
			<a href="/topico/"><button class="btn btn-outline-light p-2" type="submit">Escrever
					Trocadilho</button></a>
		</div>
		<div class="" style="width: 23rem;">
			<div class="btn-group">
				<a th:href="@{/(filter=1)}"> <button type="button" class="btn btn-outline-dark m-1">recentes </button></a>

				<a class="nav-link link-dark"
					th:href="@{/(filter=2)}"><button type="button" class="btn btn-outline-dark m-1">antigos</button></a>

				<a class="nav-link link-dark"
					th:href="@{/(filter=3)}"><button type="button" class="btn btn-outline-dark m-1">melhores</button></a>

				<a class="nav-link link-dark"
					th:href="@{/(filter=4)}"><button type="button" class="btn btn-outline-dark m-1">piores</button></a>

			</div>
		</div>
	</div>
	<div class="container" align="center" >
	<div class="row justify-content-center">
	<div class="m-4 col-lg-3 mb-4 card" style="width: 30rem;" th:each="topico : ${topicos}">
		
			<div class="m-5"><div class="alert alert-light" role="alert"><span class="fs-4" th:text="${topico.mensagem}">Mensagem</span></div></div>
			<div align="right" class="m-3">
				<div>Usuário: <span th:text="${topico.nomeDoUsuario}">Usuário</span></div>
				<div>Avaliação: <span th:text="${topico.avaliacao}">0.0</span></div>
				
				<span class="p-2" th:if="${curtidas.jaFoiCurtido(topico.id, usuarioLogado.id)}">
				
					<form th:object="${curtir}" th:action="@{/curtir}" method="POST">
						<input type="hidden" th:name="idDoTopico" th:value="${topico.id}"></input>
					
						<input type="hidden" th:name="idDoUsuario" th:value="${usuarioLogado.id}"></input>
						<button th:name="avaliacao" th:value="0" type="submit" class="btn btn-outline-success m-0"> 0 </button>
						<button th:name="avaliacao" th:value="1" type="submit" class="btn btn-outline-success m-0"> 1 </button>
						<button th:name="avaliacao" th:value="2" type="submit" class="btn btn-outline-success m-0"> 2 </button>
						<button th:name="avaliacao" th:value="3" type="submit" class="btn btn-outline-success m-0"> 3 </button>
						<button th:name="avaliacao" th:value="4" type="submit" class="btn btn-outline-success m-0"> 4 </button>
						<button th:name="avaliacao" th:value="5" type="submit" class="btn btn-outline-success m-0"> 5 </button>
					</form>
					
					
					
				</span>
			</div>
			
			
	</div>
	</div>
	</div>


		

		<div align="center" class="pagination-div m-3 p-3">
			<span th:if="${topicos.hasPrevious()}"> <a
				th:href="@{/(page=${topicos.number-1},filter=${filter})}"><button class="btn btn-outline-dark" type="submit">Anterior</button></a>
			</span>
			<th:block th:each="i: ${#numbers.sequence(0, topicos.totalPages - 1)}">
				<span th:if="${topicos.number == i}" class="selected">[[${i}+1]]</span>
				<span th:unless="${topicos.number == i}"> <a
					th:href="@{/(page=${i},filter=${filter})}"><button class="btn btn-outline-dark">[[${i}+1]]</button></a>
				</span>
			</th:block>
			<span th:if="${topicos.hasNext()}"> <a
				th:href="@{/(page=${topicos.number+1},filter=${filter})}"><button class="btn btn-outline-dark" type="submit">Próximo</button></a>
			</span>
		</div>



</body>

</html>